{{ if and (isset .Params "featuredpath") (ne .Params.featuredpath "") }}
    {{ $.Scratch.Set "path" .Params.featuredpath }}

    {{ if and (isset .Params "featured") (ne .Params.featured "") }}
        {{ $.Scratch.Set "structType" "page" }}
        {{ $path := $.Scratch.Get "path" }}
        {{ $alt := $.Scratch.Get "alt" }}
        {{ $img := $.Scratch.Get "img" }}

        <a href="{{ .RelPermalink }}" class="image featured">
            <img src="{{ .Params.featured }}" alt="{{ .Params.featuredalt }}">
            <div class="caption">{{ .Params.featuredalt }}</div>
        </a>
    {{ end }}
{{ end }}
